# 变量说明
# ${projectPath}代表项目根路径
# ${appVersion}代表程序版本
# ${appName}代表程序名称
# ${os.arch}代表系统架构
# $SYSTEM代表从系统变量获取jdk路径
# 打包模式，目前仅支持jpackage
packMode: jpackage
# 平台，macos、windows、linux
platform: macos
# 打包文件的存放目录
dest: '/Users/oyzh/Desktop/Package/EasyShell/${appVersion}/'
# 程序的图标，windows是ico、linux是png、macos是icns
appIcon: '${projectPath}/resource/app.icns'
# 程序主程序jar
mainJar: '${projectPath}/target/easyshell-${appVersion}.jar'
# jdk路径，可选物理路径或者$SYSTEM
jdkPath: $SYSTEM
# jpackage参数
jpackage:
  # 是否详细模式
  verbose: true
  # 程序作者
  vendor: oyzh
  # vm参数
  java-options:
    - '-XX:+UnlockExperimentalVMOptions'
    - '-Xss256k'
    - '-Xms32m'
    - '-Xmx2G'
    - '-Xshare:off'
    - '-XX:+UseZGC'
    - '-XX:ConcGCThreads=2'
    - '-XX:+TieredCompilation'
    - '-XX:TieredStopAtLevel=1'
    - '-XX:+UseCompactObjectHeaders'
  # 程序描述
  description: A powerful, modern, cross-platform, multi-protocol client
  # 打包类型，支持app-image，pkg、dmg、exe、msi、rpm、deb
  type: dmg
  # mac打包标识，程序唯一id
  mac-package-identifier: cn.oyzh.easyshell
# jdeps参数
jdeps:
  # 程序多版本指定
  multi-release: 25
  # 显示摘要
  summary: true
  # 跳过的模块
  skips:
    - javafx-.*.jar
  # 排除的模块
  excludes:
    - jdk.jfr
# jlink参数
jlink:
  # 排除的文件
  exclude-files:
    - '**.md'
    - '**LICENSE'
    - '**COPYRIGHT'
    - '**classlist'
    - '**README.txt'
    - '**sound.properties'
    - '**ASSEMBLY_EXCEPTION'
    - '**ADDITIONAL_LICENSE_INFO'
  # 添加的模块
  add-modules:
    - java.xml
    - java.rmi
    - java.sql
    - java.base
    - java.naming
    - java.logging
    - java.desktop
    - java.scripting
    - java.management
    - java.datatransfer
    - java.security.jgss
    - jdk.unsupported
# jre参数
jre:
  # 排除的文件
  excludes:
    - COPYRIGHT
    - README.txt
    - sound.properties
    - ASSEMBLY_EXCEPTION
    - ADDITIONAL_LICENSE_INFO
    - .*.md
    - lcms.*
    - jawt.*
    - j2gss.*
    - prefs.*
    - jsound.*
    - LICENSE.*
    - javajpeg.*
    - classlist.*
    - jrunscript.*
    - splashscreen.*
# jar参数
jar:
  # 移除空jar
  removeEmpty: true
#   # 跳过的jar
#   skipsJar:
#     - bcprov.*
#     - bcpkix.*
#     - bcutil.*
  # 排除的文件
  excludes:
    - AL2.0
    - LGPL2.1
    - package.html
    - pom.xml
    - pom.properties
    - AUTHORS
    - README.md
    - README.txt
    - DEPENDENCIES
    - aot.factories
    - changelog.txt
    - module-info.class
    - latestchanges.html
    - package-info.class
    - ASSEMBLY_EXCEPTION
    - reflectionconfig.json
    - release-timestamp.txt
    - ADDITIONAL_LICENSE_INFO
    - reactor.blockhound.integration.BlockHoundIntegration
    - classpath.idx
    - LICENSE.*
    - .*.md
    - .*.pro
    - .*.xsd
    - NOTICE.*
    - .*.tooling
    - .*.schemas
    - .*.handlers
    - lombok-.*.jar
    - .*.processors
    - .*.kotlin_module
    - .*.dll
    - .*.so
    - data.zip
    - git.properties
    - native-image.properties
    - spring-boot-jarmode-layertools-.*.jar
    - io.netty.version.properties
    # bouncycastle针对性裁剪
    - BC2048KE.SF
    - BC2048KE.DSA
    - .*lowmc.*.bin.properties
    # pty4j针对性裁剪
    - .*com/pty4j/native/freebsd.*
    - .*com/pty4j/native/linux.*
    - .*com/pty4j/native/win.*
    # jna针对性裁剪
    - .*com/sun/jna/aix.*
    - .*com/sun/jna/sunos.*
    - .*com/sun/jna/freebsd.*
    - .*com/sun/jna/openbsd.*
    - .*com/sun/jna/dragonflybsd.*
    - .*com/sun/jna/linux.*
    - .*com/sun/jna/win32.*
